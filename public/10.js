webpackJsonp([10],{310:function(e,t,r){var s=r(1)(r(344),r(355),!1,function(e){r(342)},null,null);e.exports=s.exports},342:function(e,t,r){var s=r(343);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);r(5)("56317139",s,!0,{})},343:function(e,t,r){(e.exports=r(2)(!1)).push([e.i,"",""])},344:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=c(r(9)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},o=r(8),n=c(r(345)),i=c(r(350)),l=c(r(156));function c(e){return e&&e.__esModule?e:{default:e}}t.default={components:{UserForm:i.default,UsersTable:n.default,Alert:l.default},data:function(){return{showForm:!1,formAction:null,errs:null,columns:[{name:"options",label:"Options",sortable:!1},{name:"name",required:!0,label:"NAME",align:"left",field:function(e){return e.name},sortable:!0},{name:"email",required:!0,label:"EMAIL",align:"left",field:function(e){return e.email},sortable:!0},{name:"created_at",required:!0,label:"DATE CREATED",align:"left",field:function(e){return e.created_at},sortable:!0},{name:"updated_at",required:!0,label:"LAST UPDATED",align:"left",field:function(e){return e.updated_at},sortable:!0}]}},computed:a({},(0,o.mapGetters)("USERS",{users:"GET_USERS",pagination:"GET_PAGINATION",loading:"GET_LOADING_STATE",is_saving:"GET_SUBMIT_STATE"}),{user:function(){var e=this.$store.getters["USERS/GET_USER"];return{id:e.id,name:e.name,email:e.email,account_type:e.account_type}}}),methods:a({},(0,o.mapActions)("USERS",{fetchUsers:"FETCH_USERS",save:"STORE_USER",update:"UPDATE_USER",delete:"DELETE_USER"}),(0,o.mapMutations)("USERS",{setUser:"SET_USER"}),{handleSubmit:function(e){var t=this,r=this.formAction,s=e.model,o=e.form,n=e.errors,i={id:s.id,name:s.name,email:s.email,account_type:s.account_type};switch(r){case"ADD":i=a({},i,{password:s.password,password_confirmation:s.confirm_password}),this.save(i).then(function(){t.fetchUsers(),t.resetForm(s,o,n),t.errs=null}).catch(function(e){t.errs=e.response});break;case"EDIT":this.update(i).then(function(){t.fetchUsers(),t.errs=null,t.resetForm(s,o,n)}).catch(function(e){t.errs=e.response})}},onAddUser:function(){this.formAction="ADD",this.showForm=!0},onEdit:function(e){var t=e.item;this.formAction="EDIT",this.showForm=!0,this.setUser(t)},onDelete:function(e){var t=this,r=e.item;this.$dialog.confirm("Delete <strong>"+r.name+"</strong> record ?",{html:!0,loader:!0}).then(function(e){t.delete(r).then(function(){e.close(),t.fetchUsers()})}).catch(function(){})},onClose:function(){this.showForm=!1},resetForm:function(e,t,r){var s=this;Object.keys(e).map(function(t){s.$set(e,t,"")}),t.reset(),r.clear()}}),mounted:function(){var e,t=(e=s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchUsers();case 1:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function s(a,o){try{var n=t[a](o),i=n.value}catch(e){return void r(e)}if(!n.done)return Promise.resolve(i).then(function(e){s("next",e)},function(e){s("throw",e)});e(i)}("next")})});return function(){return t.apply(this,arguments)}}()}},345:function(e,t,r){var s=r(1)(r(348),r(349),!1,function(e){r(346)},null,null);e.exports=s.exports},346:function(e,t,r){var s=r(347);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);r(5)("66f20df9",s,!0,{})},347:function(e,t,r){(e.exports=r(2)(!1)).push([e.i,"",""])},348:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{loading:{required:!0,type:Boolean},columns:{required:!0,type:Array},items:{required:!0,type:Array}}}},349:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("table",{staticClass:"table table-bordered"},[r("thead",{staticClass:"thead-primary shadow-primary"},[e.columns.length>0?r("tr",e._l(e.columns,function(t){return r("th",{key:t.name},[e._v("\n        "+e._s(t.label)+"\n      ")])}),0):e._e()]),e._v(" "),r("tbody",[e.loading?r("tr",[e._m(0)]):e._e(),e._v(" "),e.items||e.loading?e.loading?e._e():e._l(e.items,function(t,s){return r("tr",{key:s},e._l(e.columns,function(s,a){return r("td",{key:s.name+"-"+a,staticStyle:{"vertical-align":"middle"}},[e._t("table-td-"+s.name,[e._v("\n          "+e._s(t[s.name])+"\n        ")],{item:t})],2)}),0)}):r("tr",[e._m(1)])],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"text-center",attrs:{colspan:"6"}},[this._v("\n        Loading\n        "),t("img",{attrs:{src:"/images/ajax-loader.gif",alt:"Loading...."}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{attrs:{colspan:"6"}},[t("p",{staticClass:"mb-0 text-center"},[t("i",[this._v("No data has been found")])])])}]}},350:function(e,t,r){var s=r(1)(r(353),r(354),!1,function(e){r(351)},null,null);e.exports=s.exports},351:function(e,t,r){var s=r(352);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);r(5)("41112597",s,!0,{})},352:function(e,t,r){(e.exports=r(2)(!1)).push([e.i,"",""])},353:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"user-form",props:{model:{required:!0,type:Object},action:{required:!0,type:String,validator:function(e){return-1!==["ADD","EDIT"].indexOf(e)}},loading:{required:!0,type:Boolean}},methods:{onSubmit:function(e){var t=this;this.$validator.validateAll(e).then(function(e){if(e){var r={model:t.model,form:t.$validator,errors:t.errors};t.$emit("on-submit",r)}})}}}},354:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{attrs:{"data-vv-scope":"userForm"},on:{submit:function(t){return t.preventDefault(),e.onSubmit("userForm")}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:""}},[e._v("Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.model.name,expression:"model.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"name",type:"text"},domProps:{value:e.model.name},on:{input:function(t){t.target.composing||e.$set(e.model,"name",t.target.value)}}}),e._v(" "),r("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("userForm.name"),expression:"errors.has('userForm.name')"}],staticClass:"form-text text-danger"},[e._v(e._s(e.errors.first("userForm.name")))])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:""}},[e._v("Email")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.model.email,expression:"model.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",attrs:{name:"email",type:"email"},domProps:{value:e.model.email},on:{input:function(t){t.target.composing||e.$set(e.model,"email",t.target.value)}}}),e._v(" "),r("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("userForm.email"),expression:"errors.has('userForm.email')"}],staticClass:"form-text text-danger"},[e._v(e._s(e.errors.first("userForm.email")))])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:""}},[e._v("Account Type")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.model.account_type,expression:"model.account_type"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"account_type",id:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.model,"account_type",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"1"}},[e._v("Super Administrator")]),e._v(" "),r("option",{attrs:{value:"2"}},[e._v("Administrator")])]),e._v(" "),r("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("userForm.account_type"),expression:"errors.has('userForm.account_type')"}],staticClass:"form-text text-danger"},[e._v(e._s(e.errors.first("userForm.account_type")))])]),e._v(" "),"ADD"==e.action?r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"input-7"}},[e._v("Password")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.model.password,expression:"model.password"},{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],ref:"password",staticClass:"form-control",attrs:{name:"password",type:"password",id:"input-7",placeholder:"Enter Password"},domProps:{value:e.model.password},on:{input:function(t){t.target.composing||e.$set(e.model,"password",t.target.value)}}}),e._v(" "),r("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("userForm.password"),expression:"errors.has('userForm.password')"}],staticClass:"form-text text-danger"},[e._v(e._s(e.errors.first("userForm.password")))])]):e._e(),e._v(" "),"ADD"==e.action?r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"input-8"}},[e._v("Confirm Password")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.model.confirm_password,expression:"model.confirm_password"},{name:"validate",rawName:"v-validate",value:"required|confirmed:password",expression:"'required|confirmed:password'"}],staticClass:"form-control",attrs:{name:"confirm_password",type:"password",id:"input-8",placeholder:"Confirm Password"},domProps:{value:e.model.confirm_password},on:{input:function(t){t.target.composing||e.$set(e.model,"confirm_password",t.target.value)}}}),e._v(" "),r("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("userForm.confirm_password"),expression:"errors.has('userForm.confirm_password')"}],staticClass:"form-text text-danger"},[e._v(e._s(e.errors.first("userForm.confirm_password")))])]):e._e(),e._v(" "),r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn btn-success btn-block",attrs:{disabled:e.loading,type:"submit"}},[e.loading?r("span",[e._v(" Saving ...")]):r("span",[e._v("Save")])])])])},staticRenderFns:[]}},355:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row"},[r("div",{class:{"col-md-9":e.showForm,"col-lg-12":!e.showForm}},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[e._v("\n        User Account List\n\n        "),r("div",{staticClass:"card-action"},[r("button",{staticClass:"btn btn-sm btn-primary",on:{click:e.onAddUser}},[r("i",{staticClass:"fa fa-user-plus"}),e._v(" Add User\n          ")])])]),e._v(" "),r("div",{staticClass:"card-body table-responsive"},[r("users-table",{attrs:{loading:e.loading,items:e.users,columns:e.columns},scopedSlots:e._u([{key:"table-td-options",fn:function(t){return[r("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group"}},[r("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button",title:"Edit"},on:{click:function(r){return e.onEdit(t)}}},[r("span",{staticClass:"fa fa-edit"})]),e._v(" "),r("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(r){return e.onDelete(t)}}},[r("span",{staticClass:"fa fa-trash"})])])]}}])})],1)])]),e._v(" "),e.showForm?r("div",{staticClass:"col-lg-3"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[e._v("\n        User Details\n\n        "),r("div",{staticClass:"card-action"},[r("button",{staticClass:"btn btn-sm btn-danger",on:{click:e.onClose}},[r("i",{staticClass:"fa fa-times-circle"})])])]),e._v(" "),r("div",{staticClass:"card-body"},[null!==e.errs?r("div",{staticClass:"form-group"},[r("alert",{attrs:{response:e.errs}})],1):e._e(),e._v(" "),r("user-form",{attrs:{action:e.formAction,model:e.user,loading:e.is_saving},on:{"on-submit":e.handleSubmit}})],1)])]):e._e()])},staticRenderFns:[]}}});