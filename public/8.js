webpackJsonp([8],{320:function(t,e,r){var s=r(1)(r(434),r(435),!1,function(t){r(432)},null,null);t.exports=s.exports},327:function(t,e,r){var s=r(1)(r(330),r(331),!1,function(t){r(328)},null,null);t.exports=s.exports},328:function(t,e,r){var s=r(329);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);r(5)("6bfd71ba",s,!0,{})},329:function(t,e,r){(t.exports=r(2)(!1)).push([t.i,"",""])},330:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{keyword:{required:!0,type:String}},methods:{handleSearch:function(){this.$emit("on-submit",this.keyword)}}}},331:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"form-inline",on:{submit:function(e){return e.preventDefault(),t.handleSearch(e)}}},[r("div",{staticClass:"form-group"},[r("input",{staticClass:"form-control form-control-sm mr-sm-2",attrs:{type:"text",name:"keyword",id:"inlineFormInputName2",placeholder:"Search item"},domProps:{value:t.keyword},on:{input:function(e){return t.$emit("on-change",e)}}})]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"submit"}},[e("i",{staticClass:"fa fa-search"}),this._v("SEARCH\n    ")])}]}},332:function(t,e,r){var s=r(1)(r(335),r(336),!1,function(t){r(333)},null,null);t.exports=s.exports},333:function(t,e,r){var s=r(334);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);r(5)("2bf11eb0",s,!0,{})},334:function(t,e,r){(t.exports=r(2)(!1)).push([t.i,"",""])},335:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{items:{required:!0},loading:{type:Boolean,default:!1}}}},336:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("table",{staticClass:"table table-bordered",attrs:{id:"example"}},[t._m(0),t._v(" "),r("tbody",[t.loading?r("tr",[t._m(1)]):t._e(),t._v(" "),!t.loading&&t.items.data&&0==t.items.data.length?r("tr",[t._m(2)]):t._e(),t._v(" "),!t.loading&&t.items.data&&0!=t.items.data.length?t._l(t.items.data,function(e,s){return r("tr",{key:s},[r("td",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(e.id))]),t._v(" "),r("td",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(e.name))]),t._v(" "),r("td",[r("button",{staticClass:"btn btn-secondary btn-sm waves-effect waves-light m-1",attrs:{type:"button","data-toggle":"modal","data-target":"#addmodal"},on:{click:function(r){return r.preventDefault(),t.$emit("on-edit",e)}}},[r("i",{staticClass:"fa fa-edit fa-lg"}),t._v(" EDIT\n                    ")]),t._v(" "),r("button",{staticClass:"btn btn-danger btn-sm waves-effect waves-light",attrs:{type:"button",id:"confirm-btn-alert4"},on:{click:function(r){return r.preventDefault(),t.$emit("on-delete",e)}}},[r("i",{staticClass:"fa fa-trash fa-lg"}),t._v(" DELETE\n                    ")])])])}):t._e()],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",{staticClass:"thead-primary"},[e("tr",[e("th",{attrs:{width:"10%"}},[this._v("#")]),this._v(" "),e("th",{attrs:{width:"70%"}},[this._v("NAME")]),this._v(" "),e("th",{staticStyle:{witdh:"10%"},attrs:{width:"20%"}},[this._v("OPTIONS")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"text-center",attrs:{colspan:"8"}},[this._v("\n                Loading\n                "),e("img",{attrs:{src:"/images/ajax-loader.gif",alt:"Loading...."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{colspan:"9"}},[e("p",{staticClass:"text-center"},[e("em",[this._v("No data to show...")])])])}]}},337:function(t,e,r){var s=r(1)(r(340),r(341),!1,function(t){r(338)},null,null);t.exports=s.exports},338:function(t,e,r){var s=r(339);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);r(5)("a3d2b7c2",s,!0,{})},339:function(t,e,r){(t.exports=r(2)(!1)).push([t.i,"",""])},340:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{item:{required:!0,type:Object},loading:{type:Boolean,default:!1}},methods:{handleSubmit:function(t){var e=this;this.$validator.validateAll(t).then(function(t){t&&e.$emit("on-submit",e.item)})}},watch:{item:function(){this.$validator.reset(),this.errors.clear()}}}},341:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{attrs:{"data-vv-scope":"settings-form"},on:{submit:function(e){return e.preventDefault(),t.handleSubmit("settings-form")}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:""}},[t._v("Name")]),t._v(" "),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.item.name,expression:"item.name"}],staticClass:"form-control",attrs:{name:"name",type:"text"},domProps:{value:t.item.name},on:{input:function(e){e.target.composing||t.$set(t.item,"name",e.target.value)}}}),t._v(" "),r("small",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("settings-form.name"),expression:"errors.has('settings-form.name')"}],staticClass:"form-text text-danger"},[t._v("\n      "+t._s(t.errors.first("settings-form.name"))+"\n    ")])]),t._v(" "),r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn btn-sm btn-success",attrs:{disabled:t.loading}},[t.loading?r("span",[t._v("Saving...")]):t._e(),t._v(" "),t.loading?t._e():r("span",[t._v("Save")])])])])},staticRenderFns:[]}},432:function(t,e,r){var s=r(433);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);r(5)("0528173a",s,!0,{})},433:function(t,e,r){(t.exports=r(2)(!1)).push([t.i,"",""])},434:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=f(r(9)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},a=f(r(152)),i=f(r(332)),o=f(r(153)),c=f(r(327)),l=f(r(154)),d=f(r(337)),u=f(r(155)),_=r(8);r(12);function f(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Card:a.default,SuppliersTable:i.default,Pagination:o.default,SearchForm:c.default,Modal:l.default,Form:d.default,ValidationErrorComponent:u.default},data:function(){return{form_type:"",submitting:!1,response_errors:null}},computed:n({},(0,_.mapGetters)({brands:"BRANDS/GET_BRANDS",is_loading:"FILTER_MODULE/GET_LOADING",keyword:"FILTER_MODULE/GET_KEYWORD"}),{brand:function(){var t=this.$store.getters["BRANDS/GET_BRAND"];return{id:t.id,name:t.name}},page_size:{get:function(){return this.$store.getters["FILTER_MODULE/GET_PAGE_SIZE"]},set:function(t){this.$store.commit("FILTER_MODULE/SET_PAGE_SIZE",t)}},current_page:{get:function(){return this.$store.getters["FILTER_MODULE/GET_CURRENT_PAGE"]},set:function(t){this.$store.commit("FILTER_MODULE/SET_PAGE_SIZE",t)}},order_by:{get:function(){return this.$store.getters["FILTER_MODULE/GET_ORDER_BY"]},set:function(t){this.$store.commit("FILTER_MODULE/SET_ORDER_BY",t)}},sort_by:{get:function(){return this.$store.getters["FILTER_MODULE/GET_SORT_BY"]},set:function(t){this.$store.commit("FILTER_MODULE/SET_SORT_BY",t)}}}),methods:n({},(0,_.mapActions)({fetchBrands:"BRANDS/fetchBrands",store:"BRANDS/store",update:"BRANDS/update",delete:"BRANDS/delete"}),(0,_.mapMutations)({setKeyword:"FILTER_MODULE/SET_KEYWORD",clearItem:"BRANDS/CLEAR_BRAND",setBrand:"BRANDS/SET_BRAND"}),{onChange:function(t){this.setKeyword(t.target.value)},handleSearch:function(t){var e="/api/brands?q="+t+"&page="+this.current_page+"&per_page="+this.page_size+"&order_by="+this.order_by+"&sort_by="+this.sort_by;this.fetchBrands(e)},toPage:function(t){var e="/api/brands?q="+this.keyword+"&page="+t+"&per_page="+this.page_size+"&order_by="+this.order_by+"&sort_by="+this.sort_by;this.fetchBrands(e)},firstPage:function(t){var e=t+"?q="+this.keyword+"&per_page="+this.page_size+"&order_by="+this.order_by+"&sort_by="+this.sort_by;this.fetchBrands(e)},prevPage:function(t){var e=t+"?q="+this.keyword+"&per_page="+this.page_size+"&order_by="+this.order_by+"&sort_by="+this.sort_by;this.fetchBrands(e)},nextPage:function(t){var e=t+"?q="+this.keyword+"&per_page="+this.page_size+"&order_by="+this.order_by+"&sort_by="+this.sort_by;this.fetchBrands(e)},lastPage:function(t){var e=t+"?q="+this.keyword+"&per_page="+this.page_size+"&order_by="+this.order_by+"&sort_by="+this.sort_by;this.fetchBrands(e)},setBreadcrumbs:function(){this.$store.commit("setBreadcrumbs",[{text:"Administrator",link:"/administrator"},{text:"Brands",link:"/administrator/brands"}])},onCreate:function(){this.form_type="CREATE",this.response_errors=null,this.clearItem(),setTimeout(function(){$("#generic-modal").modal("show")},300)},onEdit:function(t){this.form_type="EDIT",this.response_errors=null,this.setBrand(t),setTimeout(function(){$("#generic-modal").modal("show")},300)},onDelete:function(t){var e=this;this.$dialog.confirm("<h5>Delete "+t.name+" ?</h5>",{html:!0,loader:!0}).then(function(r){e.delete(t.id).then(function(){r.close(),e.fetchBrands("/api/brands?q="+e.keyword+"&page="+e.current_page+"&per_page="+e.page_size+"&order_by="+e.order_by+"&sort_by="+e.sort_by)})}).catch(function(){})},onSubmit:function(t){var e=this,r={id:t.id,name:t.name};switch(this.submitting=!0,this.form_type){case"CREATE":this.store(r).then(function(t){e.submitting=!1,e.response_errors=null,toastr.success("Saved"),setTimeout(function(){$("#generic-modal").modal("hide")},300),e.fetchBrands("/api/brands?q="+e.keyword+"&page="+e.current_page+"&per_page="+e.page_size+"&order_by="+e.order_by+"&sort_by="+e.sort_by)}).catch(function(t){var r=t.response;e.submitting=!1,422===r.status&&(e.response_errors=r.data.errors)});break;case"EDIT":this.update(r).then(function(t){e.submitting=!1,e.response_errors=null,toastr.success("Changes saved."),e.fetchBrands("/api/brands?q="+e.keyword+"&page="+e.current_page+"&per_page="+e.page_size+"&order_by="+e.order_by+"&sort_by="+e.sort_by),setTimeout(function(){$("#generic-modal").modal("hide")},300)}).catch(function(t){var r=t.response;e.submitting=!1,422===r.status&&(e.response_errors=r.data.errors)})}},resetForm:function(t,e){t.reset(),e.clear()}}),mounted:function(){var t,e=(t=s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setBreadcrumbs(),this.setKeyword(""),t.next=4,this.fetchBrands("/api/brands?q="+this.keyword+"&page="+this.current_page+"&per_page="+this.page_size+"&order_by="+this.order_by+"&sort_by="+this.sort_by);case 4:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function s(n,a){try{var i=e[n](a),o=i.value}catch(t){return void r(t)}if(!i.done)return Promise.resolve(o).then(function(t){s("next",t)},function(t){s("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}()}},435:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-12"},[r("card",{scopedSlots:t._u([{key:"card-header",fn:function(){return[r("h3",{staticClass:"card-title mb-0 float-left"},[t._v("MANAGE BRANDS")])]},proxy:!0},{key:"card-body",fn:function(){return[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-12 mb-2 "},[r("div",{staticClass:"clearfix"},[r("div",{staticClass:"float-lg-left d-flex py-2"},[r("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.onCreate}},[t._v("\n                  ADD BRAND\n                ")])]),t._v(" "),r("div",{staticClass:"float-lg-right d-flex py-2"},[r("search-form",{attrs:{keyword:t.keyword},on:{"on-change":t.onChange,"on-submit":t.handleSearch}})],1)])]),t._v(" "),r("div",{staticClass:"col-lg-12 mb-3 table-responsive"},[r("suppliers-table",{attrs:{items:t.brands,"is-loading":t.is_loading},on:{"on-edit":t.onEdit,"on-delete":t.onDelete}})],1),t._v(" "),r("div",{staticClass:"col-lg-12"},[r("Pagination",{attrs:{data:t.brands},on:{"to-page":t.toPage,"first-page":t.firstPage,"prev-page":t.prevPage,"next-page":t.nextPage,"last-page":t.lastPage}})],1)])]},proxy:!0}])}),t._v(" "),r("modal",{scopedSlots:t._u([{key:"modal-title",fn:function(){return[r("h5",{staticClass:"text-white"},["CREATE"===t.form_type?r("span",[t._v("\n            New Brand\n          ")]):t._e(),t._v(" "),"EDIT"===t.form_type&&t.brand.name?r("span",[t._v("\n            Edit Brand "+t._s(t.brand.name)+"\n          ")]):t._e()])]},proxy:!0},{key:"modal-body",fn:function(){return[null!==t.response_errors?r("div",{staticClass:"form-group"},[r("validation-error-component",{attrs:{"error-object":t.response_errors}})],1):t._e(),t._v(" "),r("Form",{attrs:{item:t.brand,loading:t.submitting},on:{"on-submit":t.onSubmit}})]},proxy:!0}])})],1)])},staticRenderFns:[]}}});