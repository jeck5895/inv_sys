webpackJsonp([3],{317:function(t,e,s){var r=s(1)(s(409),s(425),!1,function(t){s(407)},null,null);t.exports=r.exports},407:function(t,e,s){var r=s(408);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);s(5)("c04b60ee",r,!0,{})},408:function(t,e,s){(t.exports=s(2)(!1)).push([t.i,"",""])},409:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(s(9)),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},o=u(s(410)),i=u(s(420)),n=u(s(153)),c=(s(12),s(8));function u(t){return t&&t.__esModule?t:{default:t}}e.default={components:{CustomerFormModal:o.default,CustomersTable:i.default,Pagination:n.default},computed:{customers:function(){return this.$store.getters["CUSTOMERS_MODULE/GET_CUSTOMERS"]},keyword:{get:function(){return this.$store.getters["FILTER_MODULE/GET_KEYWORD"]},set:function(t,e){this.$store.commit("FILTER_MODULE/SET_KEYWORD",t)}},page_size:{get:function(){return this.$store.getters["FILTER_MODULE/GET_PAGE_SIZE"]},set:function(t){this.$store.commit("FILTER_MODULE/SET_PAGE_SIZE",t)}},current_page:{get:function(){return this.$store.getters["FILTER_MODULE/GET_CURRENT_PAGE"]},set:function(t){this.$store.commit("FILTER_MODULE/SET_PAGE_SIZE",t)}},order_by:{get:function(){return this.$store.getters["FILTER_MODULE/GET_ORDER_BY"]},set:function(t){this.$store.commit("FILTER_MODULE/SET_ORDER_BY",t)}},sort_by:{get:function(){return this.$store.getters["FILTER_MODULE/GET_SORT_BY"]},set:function(t){this.$store.commit("FILTER_MODULE/SET_SORT_BY",t)}},date_from:function(){return this.$store.getters["FILTER_MODULE/GET_DATE_FROM"]},date_to:function(){return this.$store.getters["FILTER_MODULE/GET_DATE_TO"]}},methods:a({},(0,c.mapActions)({fetchCustomers:"CUSTOMERS_MODULE/FETCH_CUSTOMERS"}),{handleSearch:function(){this.fetchCustomers("/api/customers?q="+this.keyword+"&page="+this.current_page+"&per_page="+this.page_size+"&order_by="+this.order_by+"&sort_by="+this.sort_by)},toPage:function(t){var e="/api/customers?q="+this.keyword+"&page="+t+"&per_page="+this.page_size+"&order_by="+this.order_by+"&sort_by="+this.sort_by;this.fetchCustomers(e)},firstPage:function(t){var e=t+"?q="+this.keyword+"&per_page="+this.page_size+"&order_by="+this.order_by+"&sort_by="+this.sort_by;this.fetchCustomers(e)},prevPage:function(t){var e=t+"?q="+this.keyword+"&per_page="+this.page_size+"&order_by="+this.order_by+"&sort_by="+this.sort_by;this.fetchCustomers(e)},nextPage:function(t){var e=t+"?q="+this.keyword+"&per_page="+this.page_size+"&order_by="+this.order_by+"&sort_by="+this.sort_by;this.fetchCustomers(e)},lastPage:function(t){var e=t+"?q="+this.keyword+"&per_page="+this.page_size+"&order_by="+this.order_by+"&sort_by="+this.sort_by;this.fetchCustomers(e)},setBreadcrumbs:function(){this.$store.commit("setBreadcrumbs",[{text:"Administrator",link:"/administrator"},{text:"Customers",link:"/administrator/customers"}])}}),created:function(){var t,e=(t=r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setBreadcrumbs(),t.next=3,this.fetchCustomers("/api/customers?q="+this.keyword+"&page="+this.current_page+"&per_page="+this.page_size+"&order_by="+this.order_by+"&sort_by="+this.sort_by);case 3:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,s){return function r(a,o){try{var i=e[a](o),n=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(n).then(function(t){r("next",t)},function(t){r("throw",t)});t(n)}("next")})});return function(){return e.apply(this,arguments)}}()}},410:function(t,e,s){var r=s(1)(s(413),s(419),!1,function(t){s(411)},null,null);t.exports=r.exports},411:function(t,e,s){var r=s(412);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);s(5)("624e21d9",r,!0,{})},412:function(t,e,s){(t.exports=s(2)(!1)).push([t.i,"",""])},413:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a=s(414),o=(r=a)&&r.__esModule?r:{default:r};e.default={components:{CustomerForm:o.default}}},414:function(t,e,s){var r=s(1)(s(417),s(418),!1,function(t){s(415)},null,null);t.exports=r.exports},415:function(t,e,s){var r=s(416);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);s(5)("608b68ac",r,!0,{})},416:function(t,e,s){(t.exports=s(2)(!1)).push([t.i,"",""])},417:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a=s(156),o=(r=a)&&r.__esModule?r:{default:r};e.default={components:{Alert:o.default},data:function(){return{isLoading:!1,response:null,customer_types:[{value:"faculty",label:"Faculty"},{value:"student",label:"Student"},{value:"others",label:"Others"}]}},computed:{customer:function(){return this.$store.getters["CUSTOMERS_MODULE/GET_CUSTOMER"]},form_type:function(){return this.$store.getters["FORM_MODULE/GET_FORM_TYPE"]}},methods:{handleSubmit:function(t){var e=this;this.$validator.validateAll(t).then(function(t){if(t){localStorage.getItem("f_type");var s={id:e.customer.id,customer_type:e.customer.customer_type,fullname:e.customer.fullname,customer_id:e.customer.customer_id,course:e.customer.course,year:e.customer.year,department:e.customer.department};e.isLoading=!0,"NEW_CUSTOMER"==e.form_type?e.$store.dispatch("CUSTOMERS_MODULE/STORE_CUSTOMER",s).then(function(){e.isLoading=!1,e.response=null,e.$store.dispatch("CUSTOMERS_MODULE/FETCH_CUSTOMERS")}).catch(function(t){e.isLoading=!1,e.response=t.response}):"EDIT_CUSTOMER"==e.form_type&&e.$store.dispatch("CUSTOMERS_MODULE/UPDATE_CUSTOMER",s).then(function(){e.isLoading=!1,e.response=null,$("#customermodal").modal("hide"),e.$store.dispatch("CUSTOMERS_MODULE/FETCH_CUSTOMERS")}).catch(function(t){e.isLoading=!1,e.response=t.response})}})}}}},418:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{"data-vv-scope":"customerForm"},on:{submit:function(e){return e.preventDefault(),t.handleSubmit("customerForm")}}},[null!=t.response?s("div",{staticClass:"form-group"},[s("alert",{attrs:{response:t.response}})],1):t._e(),t._v(" "),s("div",{staticClass:"form-group"},[s("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.customer.customer_type,expression:"customer.customer_type"}],staticClass:"form-control",attrs:{name:"customer_type","data-vv-as":"customer type",id:"basic-select"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.customer,"customer_type",e.target.multiple?s:s[0])}}},[s("option",{staticStyle:{color:"gray"},attrs:{value:""}},[t._v("Please Select Item")]),t._v(" "),t._l(t.customer_types,function(e){return s("option",{key:e.value,domProps:{value:e.value}},[t._v("\n        "+t._s(e.label)+"\n      ")])})],2),t._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("customerForm.customer_type"),expression:"errors.has('customerForm.customer_type')"}],staticClass:"form-text text-danger"},[t._v("\n      "+t._s(t.errors.first("customerForm.customer_type"))+"\n    ")])]),t._v(" "),s("div",{staticClass:"form-group "},[s("label",{attrs:{for:"input-1"}},[t._v("Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.fullname,expression:"customer.fullname"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"name",type:"text",id:"input-1",placeholder:"Enter Customer Name"},domProps:{value:t.customer.fullname},on:{input:function(e){e.target.composing||t.$set(t.customer,"fullname",e.target.value)}}}),t._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("customerForm.name"),expression:"errors.has('customerForm.name')"}],staticClass:"form-text text-danger"},[t._v(t._s(t.errors.first("customerForm.name")))])]),t._v(" "),s("div",{staticClass:"form-group "},[s("label",{attrs:{for:"input-1"}},[t._v("ID")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.customer_id,expression:"customer.customer_id"},{name:"validate",rawName:"v-validate",value:"",expression:"''"}],staticClass:"form-control",attrs:{name:"customer_id",type:"text",id:"input-1",placeholder:"Enter ID"},domProps:{value:t.customer.customer_id},on:{input:function(e){e.target.composing||t.$set(t.customer,"customer_id",e.target.value)}}}),t._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("customerForm.customer_id"),expression:"errors.has('customerForm.customer_id')"}],staticClass:"form-text text-danger"},[t._v(t._s(t.errors.first("customerForm.customer_id")))])]),t._v(" "),s("div",{staticClass:"form-group "},[s("label",{attrs:{for:"input-1"}},[t._v("Course")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.course,expression:"customer.course"},{name:"validate",rawName:"v-validate",value:"",expression:"''"}],staticClass:"form-control",attrs:{name:"course",type:"text",id:"input-1",placeholder:"Enter course"},domProps:{value:t.customer.course},on:{input:function(e){e.target.composing||t.$set(t.customer,"course",e.target.value)}}}),t._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("customerForm.course"),expression:"errors.has('customerForm.course')"}],staticClass:"form-text text-danger"},[t._v(t._s(t.errors.first("customerForm.course")))])]),t._v(" "),s("div",{staticClass:"form-group "},[s("label",{attrs:{for:"input-1"}},[t._v("Year")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.year,expression:"customer.year"},{name:"validate",rawName:"v-validate",value:"",expression:"''"}],staticClass:"form-control",attrs:{name:"year",type:"text",id:"input-1",placeholder:"Enter year"},domProps:{value:t.customer.year},on:{input:function(e){e.target.composing||t.$set(t.customer,"year",e.target.value)}}}),t._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("customerForm.year"),expression:"errors.has('customerForm.year')"}],staticClass:"form-text text-danger"},[t._v(t._s(t.errors.first("customerForm.year")))])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"input-35"}},[t._v("Department")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.department,expression:"customer.department"}],staticClass:"form-control",attrs:{name:"department",type:"text",id:"input-35",placeholder:"Enter Department"},domProps:{value:t.customer.department},on:{input:function(e){e.target.composing||t.$set(t.customer,"department",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-block btn-success shadow px-5",attrs:{disabled:t.isLoading,type:"submit"}},[s("i",{staticClass:"fa fa-floppy-o"}),t._v(" "),t.isLoading?s("span",[s("i",{staticClass:"fa fa-spinner fa-spin"}),t._v(" Saving... ")]):s("span",[t._v("Save")])])])])},staticRenderFns:[]}},419:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal fade",attrs:{id:"customermodal"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content border-primary"},[this._m(0),this._v(" "),e("div",{staticClass:"modal-body"},[e("CustomerForm")],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header bg-primary"},[e("h5",{staticClass:"modal-title text-white"},[e("i",{staticClass:"fa fa-plus-square"}),this._v("Customer Details")]),this._v(" "),e("button",{staticClass:"close text-white",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("Ã—")])])])}]}},420:function(t,e,s){var r=s(1)(s(423),s(424),!1,function(t){s(421)},null,null);t.exports=r.exports},421:function(t,e,s){var r=s(422);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);s(5)("743081a3",r,!0,{})},422:function(t,e,s){(t.exports=s(2)(!1)).push([t.i,"",""])},423:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["items"],computed:{isLoading:function(){return this.$store.getters["CUSTOMERS_MODULE/GET_LOADING_STATE"]}},methods:{edit:function(t){this.$store.commit("FORM_MODULE/SET_FORM_TYPE","EDIT_CUSTOMER"),this.$store.commit("CUSTOMERS_MODULE/SET_CUSTOMER",t),$("#customermodal").modal("show")},destroy:function(t){var e=this;console.log(t);this.$dialog.confirm("Delete <strong>"+t.fullname+"</strong> record ?",{html:!0,loader:!0}).then(function(s){e.$store.dispatch("CUSTOMERS_MODULE/DELETE_CUSTOMER",t).then(function(){s.close(),e.$store.dispatch("CUSTOMERS_MODULE/FETCH_CUSTOMERS","api/customers?keyword="+e.keyword+"&date_from="+e.date_from+"&date_to="+e.date_to)})}).catch(function(){})}}}},424:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 table-responsive"},[s("table",{staticClass:"table table-bordered"},[t._m(0),t._v(" "),s("tbody",[t.isLoading?s("tr",[t._m(1)]):t._e(),t._v(" "),t.items.data&&t.items.data.length<1&&!t.isLoading?s("tr",[t._m(2)]):t.isLoading?t._e():t._l(t.items.data,function(e,r){return s("tr",{key:r},[s("td",{staticStyle:{"vertical-align":"middle"}},[t._v("\n                        "+t._s(e.customer_id)+"\n                    ")]),t._v(" "),s("td",{staticStyle:{"vertical-align":"middle"}},[t._v("\n                        "+t._s(e.customer_type.toUpperCase())+"\n                    ")]),t._v(" "),s("td",{staticStyle:{"vertical-align":"middle"}},[t._v("\n                        "+t._s(e.fullname)+"\n                    ")]),t._v(" "),s("td",{staticStyle:{"vertical-align":"middle"}},[t._v("\n                        "+t._s("student"==e.customer_type?e.course:"N/A")+"\n                    ")]),t._v(" "),s("td",{staticStyle:{"vertical-align":"middle"}},[t._v("\n                        "+t._s("student"==e.customer_type?e.year:"N/A")+"\n                    ")]),t._v(" "),s("td",{staticStyle:{"vertical-align":"middle"}},[t._v("\n                        "+t._s(e.department)+"\n                    ")]),t._v(" "),s("td",{staticStyle:{"vertical-align":"middle"}},[t._v("\n                        "+t._s(t._f("humanReadableFormat")(e.created_at))+"\n                    ")]),t._v(" "),s("td",{staticStyle:{"vertical-align":"middle"}},[s("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group"}},[s("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button",title:"Edit"},on:{click:function(s){return t.edit(e)}}},[s("span",{staticClass:"fa fa-edit"})]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(s){return t.destroy(e)}}},[s("span",{staticClass:"fa fa-trash"})])])])])})],2)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead-primary"},[s("tr",[s("th",[t._v("CUSTOMER ID")]),t._v(" "),s("th",[t._v("TYPE")]),t._v(" "),s("th",[t._v("NAME")]),t._v(" "),s("th",[t._v("COURSE")]),t._v(" "),s("th",[t._v("YEAR")]),t._v(" "),s("th",[t._v("DEPARTMENT")]),t._v(" "),s("th",[t._v("DATE CREATED")]),t._v(" "),s("th",[t._v("OPTIONS")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"text-center",attrs:{colspan:"8"}},[this._v("\n                        Loading\n                        "),e("img",{attrs:{src:"/images/ajax-loader.gif",alt:"Loading...."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{colspan:"8"}},[e("p",{staticClass:"mb-0 text-center"},[e("i",[this._v("No customers has been found")])])])}]}},425:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"card"},[t._m(0),t._v(" "),s("div",{staticClass:"card-body table-responsive"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("button",{staticClass:"btn btn-sm btn-success",attrs:{"data-toggle":"modal","data-target":"#customermodal"},on:{click:function(e){return t.$store.commit("FORM_MODULE/SET_FORM_TYPE","NEW_CUSTOMER")}}},[s("i",{staticClass:"fa fa-user-plus"}),t._v("\n                                    ADD CUSTOMER\n                                ")])]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("form",{staticClass:"form-inline float-right",on:{submit:function(e){return e.preventDefault(),t.handleSearch(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"form-control form-control-sm mb-2 mr-sm-2",attrs:{type:"text",id:"inlineFormInputName2",placeholder:"Search students"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),t._v(" "),t._m(1)])])])]),t._v(" "),s("div",{staticClass:"col-lg-12"},[s("CustomersTable",{attrs:{items:t.customers}})],1),t._v(" "),s("div",{staticClass:"col-md-12 justify-content-right"},[s("Pagination",{attrs:{data:t.customers},on:{"to-page":t.toPage,"first-page":t.firstPage,"prev-page":t.prevPage,"next-page":t.nextPage,"last-page":t.lastPage}})],1)])])]),t._v(" "),s("CustomerFormModal")],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-users"}),this._v(" Customers\n            ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-sm btn-success mb-2",attrs:{type:"submit"}},[e("i",{staticClass:"fa fa-search"}),this._v("SEARCH\n                                    ")])}]}}});